#:kivy 2.1.0

<CourseButton>:
    size_hint_x: 1 
    text_size: self.size
    font_size: '20sp'
    halign: 'center'
    valign: 'middle'
    markup: True

<CourseImage>:
    size_hint: (None, None)
    width: self.height*self.image_ratio
    allow_stretch: False
    keep_ratio: True
    radius: 0, 42, 0, 42
    pos_hint: {"center_x": .5, "top":1}
    keep_data: True

<CourseCard>:
    orientation: "vertical"
    size_hint: (1, None)
    height: self.minimum_height
    padding: "10dp"
    spacing: "10dp"

<CourseResources>:
    orientation: "vertical"
    padding: "10dp"
    spacing: "10dp"
    adaptive_height: True

<CoursesBottomNavigationItem>:
    table_layout: table_layout

    MDScrollView:
        size_hint: (1, 1)
        do_scroll_x: False
        do_scroll_y: True
        scroll_type: ['bars', 'content']

        MDGridLayout:
            id: table_layout
            adaptive_height: True
            size_hint: (1, None)
            spacing: dp(10)
            cols: 1
            height: self.minimum_height    

<DownloadableResource>:
    IconLeftWidget:
        icon: "download-outline"

<TableLayout@MDGridLayout>:
    adaptive_height: True
    size_hint: (1, None)
    spacing: dp(10)
    cols: 1

<RefreshableScrollViewVertical@MDScrollViewRefreshLayout>:
    size_hint: (1, 1)
    do_scroll_x: False
    do_scroll_y: True
    scroll_type: ['bars', 'content']

<CoursesBottomNavigation>:

<CourseRegisrationRecordContent>:
    orientation: "vertical"
    size_hint_y: None
    height: min(Window.height *.6, sum(ch.height for ch in container.children) + top_bar.height + dp(20))
    padding: (dp(10), dp(10), dp(10), dp(10))

    MDTopAppBar:
        id: top_bar
        title: 'Select course to start with:'

    MDScrollView:
        MDGridLayout:
            id: container
            cols: 1
            adaptive_height: True

<CourseBrowser>:
    name: "courses"
    padding: (dp(10), dp(10), dp(10), dp(10))

    MDBanner:
        id: banner
        text: []
        over_widget: root
        vertical_pad: root.main_screen.ids.top_bar.height - self.height
        type: "two-line"
        right_action: ["CLOSE", lambda bound_instance: self.hide()]
            
    CoursesBottomNavigation:
        id: bottom_navigation
    
        MDBottomNavigationItem:
            id: active_nav_item
            name: 'active'
            text: 'Active'
            icon: 'book-education-outline'

            RefreshableScrollViewVertical:
                id: active_refresh_layout
                refresh_callback: root.refresh
                root_layout: active_table_layout

                TableLayout:
                    id: active_table_layout

        MDBottomNavigationItem:
            id: inactive_nav_item
            name: 'inactive'
            text: 'Completed'
            icon: 'book-off-outline'

            RefreshableScrollViewVertical:
                id: inactive_refresh_layout
                refresh_callback: root.refresh
                root_layout: inactive_table_layout

                TableLayout:
                    id: inactive_table_layout

        MDBottomNavigationItem:
            id: bookable_nav_item
            name: 'bookable'
            text: 'Bookable'
            icon: 'book-plus-multiple-outline'

            RefreshableScrollViewVertical:
                id: bookable_refresh_layout
                refresh_callback: root.refresh
                root_layout: bookable_table_layout

                TableLayout:
                    id: bookable_table_layout
            